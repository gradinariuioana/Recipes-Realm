@model RecipesRealm.ViewModels.IngredientViewModel

@{
    ViewBag.Title = "Add a new Ingredient";
}

@{ 
    if (Model.Ingredient_ID != 0) {
        <script>
            var newIngred = {
                value: '@Model.Ingredient_ID',
                text: '@Model.Ingredient_Name'
            };

            window.opener.postMessage(JSON.stringify(newIngred)); // Send the resource to the main window
        </script>
    } 
    else { 
        using (Html.BeginForm("Create", "Ingredient", FormMethod.Post)) 
        {
            <div class="card">
                <div class="card-header">
                    @ViewBag.Title
                </div>
                <div class="card-body">
                    <div class="row mx-0">
                        <h5 class="alert-warning">@ViewBag.Warning</h5>
                    </div>
                    <div class="row mx-0">
                        <div class="card-text col-3">
                            @Html.LabelFor(model => model.Ingredient_Name)
                        </div>
                        <div class="card-text col-3">
                            @Html.TextBoxFor(model => model.Ingredient_Name)
                            <div class="text-warning">@Html.ValidationMessageFor(model => model.Ingredient_Name)</div>
                        </div>
                    </div>
                    <div class="row mx-0">
                        <div class="card-text col-3">
                            <input type="submit" value="Add Ingredient" />
                        </div>
                    </div>
                </div>
            </div>
        }
    }
}