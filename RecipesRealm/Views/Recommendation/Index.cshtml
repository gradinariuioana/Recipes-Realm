@model IEnumerable<RecipesRealm.ViewModels.RecipeViewModel>

@{
    ViewBag.Title = "Recommended Recipes";
}

<section id="recipe-subcat-listing">
    <div class="container">

        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="cat-header">
                    <h1>
                        @ViewBag.Title
                    </h1>
                    <p>Let our Recipes help you discover the joys of cooking. Gather your ingredients, unleash your creativity, and savor the satisfaction of preparing delicious meals that will delight your taste buds.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                @{
                    var k = 0;
                    foreach (var recipe in Model) {
                        if (k % 3 == 0) {
                            @:<div class="row recipe-row">
                            }
                            <div class="col-4 recipe-col item">
                                <div class="recipe-block">
                                    <div class="recipe-image">
                                        <a id="recipe_@Html.DisplayFor(modelItem => recipe.Recipe_ID)" href="/Recipe/Details/@Html.DisplayFor(modelItem => recipe.Recipe_ID)">
                                            <img src="../../@Html.DisplayFor(modelItem => recipe.Picture_Path)" alt="@Html.DisplayNameFor(model => model.Picture_Path)">
                                        </a>
                                    </div>
                                    <div class="recipe-details">
                                        <div class="tags-wrapper">
                                            <div class="tags-list">
                                                <svg viewbox="0 0 27.2 27.2"><g><path fill="#62A5A1" d="M26.4,1.5c0-0.3-0.3-0.6-0.7-0.7L13.8,0L0.2,13.6c-0.2,0.2-0.2,0.6,0,0.9L12.7,27c0.2,0.2,0.6,0.2,0.9,0l13.6-13.6L26.4,1.5z M13.6,25.3c-0.2,0.2-0.6,0.2-0.9,0L2,14.5c-0.2-0.2-0.3-0.6,0-0.9L14.4,1.2l10,0.9c0.3,0,0.7,0.3,0.7,0.7l0.9,10L13.6,25.3z" /><path fill="#62A5A1" d="M17.3,6.3c-1,1-0.9,2.5,0,3.5s2.6,1,3.5,0c1-1,0.9-2.5,0-3.5C19.9,5.4,18.3,5.4,17.3,6.3z M20,9c-0.5,0.5-1.3,0.5-1.8,0s-0.5-1.3,0-1.8c0.5-0.5,1.3-0.5,1.8,0C20.5,7.7,20.5,8.5,20,9z" /></g></svg>
                                                @{
                                                    if (recipe.RecipeTags.Count > 0) {
                                                        var last = recipe.RecipeTags.Last();
                                                        foreach (var tag in recipe.RecipeTags) {
                                                            <div class="single-tag">
                                                                @Html.DisplayFor(modelItem => tag.Tag_Name)
                                                                @if (tag != last) {
                                                                    <span>,</span>
                                                                }
                                                            </div>
                                                        }
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="recipe-title">
                                            <a id="recipe_@Html.DisplayFor(modelItem => recipe.Recipe_ID)" href="/Recipe/Details/@Html.DisplayFor(modelItem => recipe.Recipe_ID)">
                                                @Html.DisplayFor(modelItem => recipe.Recipe_Name)
                                            </a>
                                        </div>
                                    </div>
                                    <div class="recipe-meta">
                                        <span class="time">@Html.DisplayFor(modelItem => recipe.Cooking_Time)</span>
                                        @{
                                            var diffClass = "";
                                            var diffTitle = "";
                                            switch (recipe.Difficulty_Level) {
                                                case 1:
                                                    diffClass = "super-easy";
                                                    diffTitle = "Super Easy";
                                                    break;
                                                case 2:
                                                    diffClass = "not-too-tricky";
                                                    diffTitle = "Not Too Tricky";
                                                    break;
                                                case 3:
                                                    diffClass = "showing-off";
                                                    diffTitle = "Showing Off";
                                                    break;
                                            }
                                        }
                                        <span class="difficulty @diffClass">
                                            @diffTitle
                                        </span>
                                    </div>
                                </div>
                            </div>
                            if (k % 3 == 2) {
                            @:</div>
                        }
                        k += 1;
                    }
                }
            </div>
        </div>
    </div>
</section>
